<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>RCLibLyric</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.76.1">
<link rel="home" href="index.html" title="LibRhythmCat Reference Manual">
<link rel="up" href="ch01.html" title="API reference">
<link rel="prev" href="RCLibDbLibraryQueryResult.html" title="RCLibDb">
<link rel="next" href="RCLibPlayer.html" title="RCLibPlayer">
<meta name="generator" content="GTK-Doc V1.18 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="RCLibDbLibraryQueryResult.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="ch01.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">LibRhythmCat Reference Manual</th>
<td><a accesskey="n" href="RCLibPlayer.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts">
<a href="#RCLibLyric.synopsis" class="shortcut">Top</a>
                   | 
                  <a href="#RCLibLyric.description" class="shortcut">Description</a>
                   | 
                  <a href="#RCLibLyric.object-hierarchy" class="shortcut">Object Hierarchy</a>
                   | 
                  <a href="#RCLibLyric.signals" class="shortcut">Signals</a>
</td></tr>
</table>
<div class="refentry">
<a name="RCLibLyric"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="RCLibLyric.top_of_page"></a>RCLibLyric</span></h2>
<p>RCLibLyric — The lyric processor</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<a name="RCLibLyric.synopsis"></a><h2>Synopsis</h2>
<pre class="synopsis">
#include &lt;rclib-lyric.h&gt;

struct              <a class="link" href="RCLibLyric.html#RCLibLyric-struct" title="struct RCLibLyric">RCLibLyric</a>;
struct              <a class="link" href="RCLibLyric.html#RCLibLyricClass" title="struct RCLibLyricClass">RCLibLyricClass</a>;
struct              <a class="link" href="RCLibLyric.html#RCLibLyricData" title="struct RCLibLyricData">RCLibLyricData</a>;
struct              <a class="link" href="RCLibLyric.html#RCLibLyricParsedData" title="struct RCLibLyricParsedData">RCLibLyricParsedData</a>;
<span class="returnvalue">void</span>                <a class="link" href="RCLibLyric.html#rclib-lyric-clean" title="rclib_lyric_clean ()">rclib_lyric_clean</a>                   (<em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"><span class="type">guint</span></a> index</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="RCLibLyric.html#rclib-lyric-exit" title="rclib_lyric_exit ()">rclib_lyric_exit</a>                    ();
const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *       <a class="link" href="RCLibLyric.html#rclib-lyric-get-fallback-encoding" title="rclib_lyric_get_fallback_encoding ()">rclib_lyric_get_fallback_encoding</a>   ();
<a href="/usr/share/gtk-doc/html/gobject/gobject-The-Base-Object-Type.html#GObject"><span class="returnvalue">GObject</span></a> *           <a class="link" href="RCLibLyric.html#rclib-lyric-get-instance" title="rclib_lyric_get_instance ()">rclib_lyric_get_instance</a>            ();
const <a class="link" href="RCLibLyric.html#RCLibLyricData" title="struct RCLibLyricData"><span class="returnvalue">RCLibLyricData</span></a> * <a class="link" href="RCLibLyric.html#rclib-lyric-get-line" title="rclib_lyric_get_line ()">rclib_lyric_get_line</a>             (<em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"><span class="type">guint</span></a> index</code></em>,
                                                         <em class="parameter"><code><span class="type">gint64</span> time</code></em>);
<a href="/usr/share/gtk-doc/html/glib/glib-Sequences.html#GSequenceIter"><span class="returnvalue">GSequenceIter</span></a> *     <a class="link" href="RCLibLyric.html#rclib-lyric-get-line-iter" title="rclib_lyric_get_line_iter ()">rclib_lyric_get_line_iter</a>           (<em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"><span class="type">guint</span></a> index</code></em>,
                                                         <em class="parameter"><code><span class="type">gint64</span> time</code></em>);
const <a class="link" href="RCLibLyric.html#RCLibLyricParsedData" title="struct RCLibLyricParsedData"><span class="returnvalue">RCLibLyricParsedData</span></a> * <a class="link" href="RCLibLyric.html#rclib-lyric-get-parsed-data" title="rclib_lyric_get_parsed_data ()">rclib_lyric_get_parsed_data</a>
                                                        (<em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"><span class="type">guint</span></a> index</code></em>);
const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *       <a class="link" href="RCLibLyric.html#rclib-lyric-get-search-dir" title="rclib_lyric_get_search_dir ()">rclib_lyric_get_search_dir</a>          ();
<span class="returnvalue">gint64</span>              <a class="link" href="RCLibLyric.html#rclib-lyric-get-track-time-offset" title="rclib_lyric_get_track_time_offset ()">rclib_lyric_get_track_time_offset</a>   (<em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"><span class="type">guint</span></a> index</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="RCLibLyric.html#rclib-lyric-init" title="rclib_lyric_init ()">rclib_lyric_init</a>                    ();
<a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            <a class="link" href="RCLibLyric.html#rclib-lyric-is-available" title="rclib_lyric_is_available ()">rclib_lyric_is_available</a>            (<em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"><span class="type">guint</span></a> index</code></em>);
<a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            <a class="link" href="RCLibLyric.html#rclib-lyric-load-file" title="rclib_lyric_load_file ()">rclib_lyric_load_file</a>               (<em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *filename</code></em>,
                                                         <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"><span class="type">guint</span></a> index</code></em>);
<a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *             <a class="link" href="RCLibLyric.html#rclib-lyric-search-lyric" title="rclib_lyric_search_lyric ()">rclib_lyric_search_lyric</a>            (<em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *uri</code></em>,
                                                         <em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *title</code></em>,
                                                         <em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *artist</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="RCLibLyric.html#rclib-lyric-set-fallback-encoding" title="rclib_lyric_set_fallback_encoding ()">rclib_lyric_set_fallback_encoding</a>   (<em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *encoding</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="RCLibLyric.html#rclib-lyric-set-search-dir" title="rclib_lyric_set_search_dir ()">rclib_lyric_set_search_dir</a>          (<em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *dir</code></em>);
<a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gulong"><span class="returnvalue">gulong</span></a>              <a class="link" href="RCLibLyric.html#rclib-lyric-signal-connect" title="rclib_lyric_signal_connect ()">rclib_lyric_signal_connect</a>          (<em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *name</code></em>,
                                                         <em class="parameter"><code><a href="/usr/share/gtk-doc/html/gobject/gobject-Closures.html#GCallback"><span class="type">GCallback</span></a> callback</code></em>,
                                                         <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gpointer"><span class="type">gpointer</span></a> data</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="RCLibLyric.html#rclib-lyric-signal-disconnect" title="rclib_lyric_signal_disconnect ()">rclib_lyric_signal_disconnect</a>       (<em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gulong"><span class="type">gulong</span></a> handler_id</code></em>);
</pre>
</div>
<div class="refsect1">
<a name="RCLibLyric.object-hierarchy"></a><h2>Object Hierarchy</h2>
<pre class="synopsis">
  <a href="/usr/share/gtk-doc/html/gobject/gobject-The-Base-Object-Type.html#GObject">GObject</a>
   +----RCLibLyric
</pre>
</div>
<div class="refsect1">
<a name="RCLibLyric.signals"></a><h2>Signals</h2>
<pre class="synopsis">
  "<a class="link" href="RCLibLyric.html#RCLibLyric-line-changed" title='The "line-changed" signal'>line-changed</a>"                                   : <a href="/usr/share/gtk-doc/html/gobject/gobject-Signals.html#G-SIGNAL-RUN-FIRST:CAPS"><code class="literal">Run First</code></a>
  "<a class="link" href="RCLibLyric.html#RCLibLyric-lyric-may-missing" title='The "lyric-may-missing" signal'>lyric-may-missing</a>"                              : <a href="/usr/share/gtk-doc/html/gobject/gobject-Signals.html#G-SIGNAL-RUN-FIRST:CAPS"><code class="literal">Run First</code></a>
  "<a class="link" href="RCLibLyric.html#RCLibLyric-lyric-ready" title='The "lyric-ready" signal'>lyric-ready</a>"                                    : <a href="/usr/share/gtk-doc/html/gobject/gobject-Signals.html#G-SIGNAL-RUN-FIRST:CAPS"><code class="literal">Run First</code></a>
  "<a class="link" href="RCLibLyric.html#RCLibLyric-lyric-timer" title='The "lyric-timer" signal'>lyric-timer</a>"                                    : <a href="/usr/share/gtk-doc/html/gobject/gobject-Signals.html#G-SIGNAL-RUN-FIRST:CAPS"><code class="literal">Run First</code></a>
</pre>
</div>
<div class="refsect1">
<a name="RCLibLyric.description"></a><h2>Description</h2>
<p>
The <a class="link" href="RCLibLyric.html" title="RCLibLyric"><span class="type">RCLibLyric</span></a> is a class which processes the lyric data. It can read
lyric data from lyric file, and then parse them. It can load two lyric
tracks. The timer inside can send signals for lyric display.
</p>
</div>
<div class="refsect1">
<a name="RCLibLyric.details"></a><h2>Details</h2>
<div class="refsect2">
<a name="RCLibLyric-struct"></a><h3>struct RCLibLyric</h3>
<pre class="programlisting">struct RCLibLyric;</pre>
<p>
The lyric processor. The contents of the <a class="link" href="RCLibLyric.html" title="RCLibLyric"><span class="type">RCLibLyric</span></a> structure are
private and should only be accessed via the provided API.
</p>
</div>
<hr>
<div class="refsect2">
<a name="RCLibLyricClass"></a><h3>struct RCLibLyricClass</h3>
<pre class="programlisting">struct RCLibLyricClass {
};
</pre>
<p>
<a class="link" href="RCLibLyric.html" title="RCLibLyric"><span class="type">RCLibLyric</span></a> class.
</p>
</div>
<hr>
<div class="refsect2">
<a name="RCLibLyricData"></a><h3>struct RCLibLyricData</h3>
<pre class="programlisting">struct RCLibLyricData {
    gint64 time;
    gint64 length;
    gchar *text;
};
</pre>
<p>
The structure for lyric data.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><span class="type">gint64</span> <em class="structfield"><code><a name="RCLibLyricData.time"></a>time</code></em>;</span></p></td>
<td>the time line (unit: nanosecond)</td>
</tr>
<tr>
<td><p><span class="term"><span class="type">gint64</span> <em class="structfield"><code><a name="RCLibLyricData.length"></a>length</code></em>;</span></p></td>
<td>the length (unit: nanosecond)</td>
</tr>
<tr>
<td><p><span class="term"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *<em class="structfield"><code><a name="RCLibLyricData.text"></a>text</code></em>;</span></p></td>
<td>the lyric text</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="RCLibLyricParsedData"></a><h3>struct RCLibLyricParsedData</h3>
<pre class="programlisting">struct RCLibLyricParsedData {
    GSequence *seq;
    gchar *filename;
    gchar *title;
    gchar *artist;
    gchar *album;
    gchar *author;
    gint offset;
};
</pre>
<p>
The structure for parsed lyric data.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><a href="/usr/share/gtk-doc/html/glib/glib-Sequences.html#GSequence"><span class="type">GSequence</span></a> *<em class="structfield"><code><a name="RCLibLyricParsedData.seq"></a>seq</code></em>;</span></p></td>
<td>the <a href="/usr/share/gtk-doc/html/glib/glib-Sequences.html#GSequence"><span class="type">GSequence</span></a> which contains the lyric data</td>
</tr>
<tr>
<td><p><span class="term"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *<em class="structfield"><code><a name="RCLibLyricParsedData.filename"></a>filename</code></em>;</span></p></td>
<td>the file path of the lyric file</td>
</tr>
<tr>
<td><p><span class="term"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *<em class="structfield"><code><a name="RCLibLyricParsedData.title"></a>title</code></em>;</span></p></td>
<td>the title</td>
</tr>
<tr>
<td><p><span class="term"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *<em class="structfield"><code><a name="RCLibLyricParsedData.artist"></a>artist</code></em>;</span></p></td>
<td>the artist</td>
</tr>
<tr>
<td><p><span class="term"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *<em class="structfield"><code><a name="RCLibLyricParsedData.album"></a>album</code></em>;</span></p></td>
<td>the album</td>
</tr>
<tr>
<td><p><span class="term"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *<em class="structfield"><code><a name="RCLibLyricParsedData.author"></a>author</code></em>;</span></p></td>
<td>the author of the lyric file</td>
</tr>
<tr>
<td><p><span class="term"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> <em class="structfield"><code><a name="RCLibLyricParsedData.offset"></a>offset</code></em>;</span></p></td>
<td>the offset time of the lyric data</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="rclib-lyric-clean"></a><h3>rclib_lyric_clean ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                rclib_lyric_clean                   (<em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"><span class="type">guint</span></a> index</code></em>);</pre>
<p>
Clean the lyric data in the running lyric prcessor instance.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code>index</code></em> :</span></p></td>
<td>the lyric track index</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="rclib-lyric-exit"></a><h3>rclib_lyric_exit ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                rclib_lyric_exit                    ();</pre>
<p>
Unload the lyric process instance.
</p>
</div>
<hr>
<div class="refsect2">
<a name="rclib-lyric-get-fallback-encoding"></a><h3>rclib_lyric_get_fallback_encoding ()</h3>
<pre class="programlisting">const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *       rclib_lyric_get_fallback_encoding   ();</pre>
<p>
Get the fallback encoding for the lyric parser, NULL if it is no set.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>The fallback encoding, do not free or modify it.</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="rclib-lyric-get-instance"></a><h3>rclib_lyric_get_instance ()</h3>
<pre class="programlisting"><a href="/usr/share/gtk-doc/html/gobject/gobject-The-Base-Object-Type.html#GObject"><span class="returnvalue">GObject</span></a> *           rclib_lyric_get_instance            ();</pre>
<p>
Get the running <a class="link" href="RCLibLyric.html" title="RCLibLyric"><span class="type">RCLibLyric</span></a> instance.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>The running instance. <span class="annotation">[<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>]</span>
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="rclib-lyric-get-line"></a><h3>rclib_lyric_get_line ()</h3>
<pre class="programlisting">const <a class="link" href="RCLibLyric.html#RCLibLyricData" title="struct RCLibLyricData"><span class="returnvalue">RCLibLyricData</span></a> * rclib_lyric_get_line             (<em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"><span class="type">guint</span></a> index</code></em>,
                                                         <em class="parameter"><code><span class="type">gint64</span> time</code></em>);</pre>
<p>
Find the lyric line which matches to the given time (in nanoseconds).
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>time</code></em> :</span></p></td>
<td>the time to search</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>index</code></em> :</span></p></td>
<td>the lyric track index</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>The matched line data, NULL if not found.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="rclib-lyric-get-line-iter"></a><h3>rclib_lyric_get_line_iter ()</h3>
<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Sequences.html#GSequenceIter"><span class="returnvalue">GSequenceIter</span></a> *     rclib_lyric_get_line_iter           (<em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"><span class="type">guint</span></a> index</code></em>,
                                                         <em class="parameter"><code><span class="type">gint64</span> time</code></em>);</pre>
<p>
Find iter of the lyric line which matches to the given time
(in nanoseconds).
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>time</code></em> :</span></p></td>
<td>the time to search</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>index</code></em> :</span></p></td>
<td>the lyric track index</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>The <a href="/usr/share/gtk-doc/html/glib/glib-Sequences.html#GSequenceIter"><span class="type">GSequenceIter</span></a> of the lyric line,
<a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS"><span class="type">NULL</span></a> if not found. <span class="annotation">[<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>]</span>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="rclib-lyric-get-parsed-data"></a><h3>rclib_lyric_get_parsed_data ()</h3>
<pre class="programlisting">const <a class="link" href="RCLibLyric.html#RCLibLyricParsedData" title="struct RCLibLyricParsedData"><span class="returnvalue">RCLibLyricParsedData</span></a> * rclib_lyric_get_parsed_data
                                                        (<em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"><span class="type">guint</span></a> index</code></em>);</pre>
<p>
Get the parsed lyric data by the given track index.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>index</code></em> :</span></p></td>
<td>the lyric track index</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>The parsed lyric data. <span class="annotation">[<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>]</span>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="rclib-lyric-get-search-dir"></a><h3>rclib_lyric_get_search_dir ()</h3>
<pre class="programlisting">const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *       rclib_lyric_get_search_dir          ();</pre>
<p>
Get the directory for searching the lyric files.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>The directory path.</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="rclib-lyric-get-track-time-offset"></a><h3>rclib_lyric_get_track_time_offset ()</h3>
<pre class="programlisting"><span class="returnvalue">gint64</span>              rclib_lyric_get_track_time_offset   (<em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"><span class="type">guint</span></a> index</code></em>);</pre>
<p>
Get the time offset (in nanosecond) by the given track index
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>index</code></em> :</span></p></td>
<td>the lyric track index</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>The delay time.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="rclib-lyric-init"></a><h3>rclib_lyric_init ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                rclib_lyric_init                    ();</pre>
<p>
Initialize the lyric process instance.
</p>
</div>
<hr>
<div class="refsect2">
<a name="rclib-lyric-is-available"></a><h3>rclib_lyric_is_available ()</h3>
<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            rclib_lyric_is_available            (<em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"><span class="type">guint</span></a> index</code></em>);</pre>
<p>
Check whether the lyric in the given track index is available.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>index</code></em> :</span></p></td>
<td>the lyric track index</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>Whether the lyric is available.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="rclib-lyric-load-file"></a><h3>rclib_lyric_load_file ()</h3>
<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            rclib_lyric_load_file               (<em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *filename</code></em>,
                                                         <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"><span class="type">guint</span></a> index</code></em>);</pre>
<p>
Load lyric file and then parse it.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>filename</code></em> :</span></p></td>
<td>the lyric file to load</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>index</code></em> :</span></p></td>
<td>the lyric track index (0 or 1)</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>Whether the file is loaded and parsed.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="rclib-lyric-search-lyric"></a><h3>rclib_lyric_search_lyric ()</h3>
<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *             rclib_lyric_search_lyric            (<em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *uri</code></em>,
                                                         <em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *title</code></em>,
                                                         <em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *artist</code></em>);</pre>
<p>
Search the lyric file by given information.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>uri</code></em> :</span></p></td>
<td>the URI</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>title</code></em> :</span></p></td>
<td>the title</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>artist</code></em> :</span></p></td>
<td>the artist</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>The lyric file path, NULL if not found.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="rclib-lyric-set-fallback-encoding"></a><h3>rclib_lyric_set_fallback_encoding ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                rclib_lyric_set_fallback_encoding   (<em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *encoding</code></em>);</pre>
<p>
Set the fallback encoding for the lyric parser.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code>encoding</code></em> :</span></p></td>
<td>the fallback encoding, set to NULL if not used</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="rclib-lyric-set-search-dir"></a><h3>rclib_lyric_set_search_dir ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                rclib_lyric_set_search_dir          (<em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *dir</code></em>);</pre>
<p>
Set the directory for searching the lyric files.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code>dir</code></em> :</span></p></td>
<td>the directory to set</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="rclib-lyric-signal-connect"></a><h3>rclib_lyric_signal_connect ()</h3>
<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gulong"><span class="returnvalue">gulong</span></a>              rclib_lyric_signal_connect          (<em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *name</code></em>,
                                                         <em class="parameter"><code><a href="/usr/share/gtk-doc/html/gobject/gobject-Closures.html#GCallback"><span class="type">GCallback</span></a> callback</code></em>,
                                                         <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gpointer"><span class="type">gpointer</span></a> data</code></em>);</pre>
<p>
Connect the GCallback function to the given signal for the running
instance of <a class="link" href="RCLibLyric.html" title="RCLibLyric"><span class="type">RCLibLyric</span></a> object.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>name</code></em> :</span></p></td>
<td>the name of the signal</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>callback</code></em> :</span></p></td>
<td>the the <a href="/usr/share/gtk-doc/html/gobject/gobject-Closures.html#GCallback"><span class="type">GCallback</span></a> to connect. <span class="annotation">[<acronym title="The callback is valid only during the call to the method."><span class="acronym">scope call</span></acronym>]</span>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>data</code></em> :</span></p></td>
<td>the user data</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>The handler ID.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="rclib-lyric-signal-disconnect"></a><h3>rclib_lyric_signal_disconnect ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                rclib_lyric_signal_disconnect       (<em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gulong"><span class="type">gulong</span></a> handler_id</code></em>);</pre>
<p>
Disconnects a handler from the running <a class="link" href="RCLibLyric.html" title="RCLibLyric"><span class="type">RCLibLyric</span></a> instance so it
will not be called during any future or currently ongoing emissions
of the signal it has been connected to. The <span class="type">handler_id</span> becomes
invalid and may be reused.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code>handler_id</code></em> :</span></p></td>
<td>handler id of the handler to be disconnected</td>
</tr></tbody>
</table></div>
</div>
</div>
<div class="refsect1">
<a name="RCLibLyric.signal-details"></a><h2>Signal Details</h2>
<div class="refsect2">
<a name="RCLibLyric-line-changed"></a><h3>The <code class="literal">"line-changed"</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                user_function                      (<a class="link" href="RCLibLyric.html" title="RCLibLyric"><span class="type">RCLibLyric</span></a> *lyric,
                                                        <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"><span class="type">guint</span></a>       index,
                                                        <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gpointer"><span class="type">gpointer</span></a>    lyric_data,
                                                        <span class="type">gint64</span>      offset,
                                                        <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gpointer"><span class="type">gpointer</span></a>    user_data)       : <a href="/usr/share/gtk-doc/html/gobject/gobject-Signals.html#G-SIGNAL-RUN-FIRST:CAPS"><code class="literal">Run First</code></a></pre>
<p>
The ::line-changed signal is emitted when a lyric line has been
found which matches the current playing position.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>lyric</code></em> :</span></p></td>
<td>the <a class="link" href="RCLibLyric.html" title="RCLibLyric"><span class="type">RCLibLyric</span></a> that received the signal</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>index</code></em> :</span></p></td>
<td>the track index of the current lyric line</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>lyric_data</code></em> :</span></p></td>
<td>the lyric data of the current lyric line</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>offset</code></em> :</span></p></td>
<td>the time offset of the lyric data</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>user data set when the signal handler was connected.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="RCLibLyric-lyric-may-missing"></a><h3>The <code class="literal">"lyric-may-missing"</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                user_function                      (<a class="link" href="RCLibLyric.html" title="RCLibLyric"><span class="type">RCLibLyric</span></a> *lyric,
                                                        <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gpointer"><span class="type">gpointer</span></a>    user_data)      : <a href="/usr/share/gtk-doc/html/gobject/gobject-Signals.html#G-SIGNAL-RUN-FIRST:CAPS"><code class="literal">Run First</code></a></pre>
<p>
The ::lyric-may-missing signal is emitted if the lyric file of
the current playing music may not exist.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>lyric</code></em> :</span></p></td>
<td>the <a class="link" href="RCLibLyric.html" title="RCLibLyric"><span class="type">RCLibLyric</span></a> that received the signal</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>user data set when the signal handler was connected.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="RCLibLyric-lyric-ready"></a><h3>The <code class="literal">"lyric-ready"</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                user_function                      (<a class="link" href="RCLibLyric.html" title="RCLibLyric"><span class="type">RCLibLyric</span></a> *lyric,
                                                        <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"><span class="type">guint</span></a>       index,
                                                        <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gpointer"><span class="type">gpointer</span></a>    user_data)      : <a href="/usr/share/gtk-doc/html/gobject/gobject-Signals.html#G-SIGNAL-RUN-FIRST:CAPS"><code class="literal">Run First</code></a></pre>
<p>
The ::lyric-ready signal is emitted when a lyric track is
ready to be used.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>lyric</code></em> :</span></p></td>
<td>the <a class="link" href="RCLibLyric.html" title="RCLibLyric"><span class="type">RCLibLyric</span></a> that received the signal</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>index</code></em> :</span></p></td>
<td>the track index which is ready</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>user data set when the signal handler was connected.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="RCLibLyric-lyric-timer"></a><h3>The <code class="literal">"lyric-timer"</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                user_function                      (<a class="link" href="RCLibLyric.html" title="RCLibLyric"><span class="type">RCLibLyric</span></a> *lyric,
                                                        <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"><span class="type">guint</span></a>       index,
                                                        <span class="type">gint64</span>      pos,
                                                        <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gpointer"><span class="type">gpointer</span></a>    lyric_data,
                                                        <span class="type">gint64</span>      offset,
                                                        <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gpointer"><span class="type">gpointer</span></a>    user_data)       : <a href="/usr/share/gtk-doc/html/gobject/gobject-Signals.html#G-SIGNAL-RUN-FIRST:CAPS"><code class="literal">Run First</code></a></pre>
<p>
The ::lyric-timer signal is emitted every 100ms, used for
lyric display.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>lyric</code></em> :</span></p></td>
<td>the <a class="link" href="RCLibLyric.html" title="RCLibLyric"><span class="type">RCLibLyric</span></a> that received the signal</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>index</code></em> :</span></p></td>
<td>the track index of the current lyric line</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>pos</code></em> :</span></p></td>
<td>current time position</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>lyric_data</code></em> :</span></p></td>
<td>the lyric data of the current lyric line</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>offset</code></em> :</span></p></td>
<td>the time offset of the lyric data</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>user data set when the signal handler was connected.</td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.18</div>
</body>
</html>