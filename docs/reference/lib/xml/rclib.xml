<?xml version="1.0"?>
<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
               "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd"
[
  <!ENTITY % local.common.attrib "xmlns:xi  CDATA  #FIXED 'http://www.w3.org/2003/XInclude'">
]>
<refentry id="LibRhythmCat-Main-module">
<refmeta>
<refentrytitle role="top_of_page" id="LibRhythmCat-Main-module.top_of_page">Main module</refentrytitle>
<manvolnum>3</manvolnum>
<refmiscinfo>
  LIBRHYTHMCAT Library
</refmiscinfo>
</refmeta>
<refnamediv>
<refname>Main module</refname>
<refpurpose>The main module</refpurpose>
</refnamediv>

<refsynopsisdiv id="LibRhythmCat-Main-module.synopsis" role="synopsis">
<title role="synopsis.title">Synopsis</title>

<synopsis>
#include &lt;rclib.h&gt;

extern const guint  <link linkend="rclib-major-version">rclib_major_version</link>;
extern const guint  <link linkend="rclib-micro-version">rclib_micro_version</link>;
extern const guint  <link linkend="rclib-minor-version">rclib_minor_version</link>;
extern const gchar *<link linkend="rclib-build-date">rclib_build_date</link>;
extern const gchar *<link linkend="rclib-build-time">rclib_build_time</link>;
<link linkend="gboolean"><returnvalue>gboolean</returnvalue></link>            <link linkend="rclib-init">rclib_init</link>                          (<parameter><link linkend="gint"><type>gint</type></link> *argc</parameter>,
                                                         <parameter><link linkend="gchar"><type>gchar</type></link> **argv[]</parameter>,
                                                         <parameter>const <link linkend="gchar"><type>gchar</type></link> *dir</parameter>,
                                                         <parameter><link linkend="GError"><type>GError</type></link> **error</parameter>);
<link linkend="void"><returnvalue>void</returnvalue></link>                <link linkend="rclib-exit">rclib_exit</link>                          ();
</synopsis>
</refsynopsisdiv>

<refsect1 id="LibRhythmCat-Main-module.description" role="desc">
<title role="desc.title">Description</title>
<para>
The main module is used for general library initialization and library
information access, it will initialize the core, database, player
schedulor, lyric processor, and connect some signals to callbacks for
update the metadata in the database. If you do not want to initialize
the modules by yourself, just using function <link linkend="rclib-init"><function>rclib_init()</function></link>.
</para>
</refsect1>
<refsect1 id="LibRhythmCat-Main-module.details" role="details">
<title role="details.title">Details</title>
<refsect2 id="rclib-major-version" role="variable">
<title>rclib_major_version</title>
<indexterm zone="rclib-major-version"><primary>rclib_major_version</primary></indexterm>
<programlisting>extern const guint rclib_major_version;
</programlisting>
<para>
The major version of LibRhythmCat.
</para></refsect2>
<refsect2 id="rclib-micro-version" role="variable">
<title>rclib_micro_version</title>
<indexterm zone="rclib-micro-version"><primary>rclib_micro_version</primary></indexterm>
<programlisting>extern const guint rclib_micro_version;
</programlisting>
<para>
The micro version of LibRhythmCat.
</para></refsect2>
<refsect2 id="rclib-minor-version" role="variable">
<title>rclib_minor_version</title>
<indexterm zone="rclib-minor-version"><primary>rclib_minor_version</primary></indexterm>
<programlisting>extern const guint rclib_minor_version;
</programlisting>
<para>
The minor version of LibRhythmCat.
</para></refsect2>
<refsect2 id="rclib-build-date" role="variable">
<title>rclib_build_date</title>
<indexterm zone="rclib-build-date"><primary>rclib_build_date</primary></indexterm>
<programlisting>extern const gchar *rclib_build_date;
</programlisting>
<para>
The build (complied) date of LibRhythmCat.
</para></refsect2>
<refsect2 id="rclib-build-time" role="variable">
<title>rclib_build_time</title>
<indexterm zone="rclib-build-time"><primary>rclib_build_time</primary></indexterm>
<programlisting>extern const gchar *rclib_build_time;
</programlisting>
<para>
The build (complied) time of LibRhythmCat.
</para></refsect2>
<refsect2 id="rclib-init" role="function">
<title>rclib_init ()</title>
<indexterm zone="rclib-init"><primary>rclib_init</primary></indexterm>
<programlisting><link linkend="gboolean"><returnvalue>gboolean</returnvalue></link>            rclib_init                          (<parameter><link linkend="gint"><type>gint</type></link> *argc</parameter>,
                                                         <parameter><link linkend="gchar"><type>gchar</type></link> **argv[]</parameter>,
                                                         <parameter>const <link linkend="gchar"><type>gchar</type></link> *dir</parameter>,
                                                         <parameter><link linkend="GError"><type>GError</type></link> **error</parameter>);</programlisting>
<para>
Initialize the library, please call this function before using any other
library functions. If you want to initialize the library by yourself, you
should call the initializion function in each module.
</para><variablelist role="params">
<varlistentry><term><parameter>argc</parameter>&#160;:</term>
<listitem><simpara>address of the <parameter>argc</parameter> parameter of
your <link linkend="main"><function>main()</function></link> function (or 0 if <parameter>argv</parameter> is <link linkend="NULL:CAPS"><literal>NULL</literal></link>). This will be changed if
any arguments were handled. <emphasis role="annotation">[<acronym>inout</acronym>]</emphasis></simpara></listitem></varlistentry>
<varlistentry><term><parameter>argv</parameter>&#160;:</term>
<listitem><simpara>address of the
<parameter>argv</parameter> parameter of <link linkend="main"><function>main()</function></link>, or <link linkend="NULL:CAPS"><literal>NULL</literal></link>. <emphasis role="annotation">[<acronym>array</acronym> length=argc][<acronym>inout</acronym>][<acronym>allow-none</acronym>]</emphasis></simpara></listitem></varlistentry>
<varlistentry><term><parameter>dir</parameter>&#160;:</term>
<listitem><simpara>the directory of the user data</simpara></listitem></varlistentry>
<varlistentry><term><parameter>error</parameter>&#160;:</term>
<listitem><simpara>return location for a GError, or <link linkend="NULL:CAPS"><literal>NULL</literal></link></simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara>Whether the initializion succeeded.</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="rclib-exit" role="function">
<title>rclib_exit ()</title>
<indexterm zone="rclib-exit"><primary>rclib_exit</primary></indexterm>
<programlisting><link linkend="void"><returnvalue>void</returnvalue></link>                rclib_exit                          ();</programlisting>
<para>
Exit and unload the library.
</para></refsect2>

</refsect1>

</refentry>
